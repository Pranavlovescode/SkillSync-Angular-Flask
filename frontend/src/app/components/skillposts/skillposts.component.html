<!-- Create Post -->
<app-navbar/>
<!-- <div class="card bg-neutral w-1/2 mx-auto shadow-xl mb-6">
  <div class="card-body">
    <div class="flex items-center gap-4">
      <div class="avatar">
        <div class="w-12 rounded-full">
          <img [src]="currentUser.avatarUrl" alt="avatar" />
        </div>
      </div>
      <input
        #postInput
        type="text"
        placeholder="Share your Angular skills..."
        class="input input-bordered w-full"
        (keyup.enter)="createPost(postInput.value); postInput.value = ''"
      />
      <button
        class="btn btn-primary"
        (click)="createPost(postInput.value); postInput.value = ''"
      >
        Create Post
      </button>
    </div>
  </div>
</div> -->

<!-- Posts List -->
<div class="space-y-4 mx-auto w-full">
  <div *ngFor="let post of skillPost" class="card bg-neutral shadow-xl md:w-1/2 mx-auto w-full">
    <div class="card-body">
      <div class="flex items-start gap-4">
        <div class="avatar">
          <div class="w-12 rounded-full">
            <img [src]="post.image" [alt]="post.user" />
          </div>
        </div>
        <div class="flex-1">
          <div class="flex items-center gap-2">
            <h3 class="font-bold">{{ post.title }}</h3>
            <span class="text-sm text-base-content/60">{{
              post.user.username
            }}</span>
          </div>
          <p class="mt-2">{{ post.description }}</p>
          
          <div class="mt-3 flex items-center gap-2">
            <div *ngFor="let tag of post.tags" class="badge badge-primary">
              {{ tag }}
            </div>
          </div>
          @if (post.image) {
            <div class="mt-3">
              <img [src]="post.image" [alt]="post.title" class="w-full" />
            </div>
          }
          @else if (post.video) {
            <div class="mt-3">
              <video [src]="post.video" class="w-full" controls>
                Your browser does not support the video tag.
              </video>
            </div>
          }
          @else {
            <div class="mt-3">
            </div>
          }
          <div class="mt-4 flex items-center gap-2">
            <button class="btn btn-ghost btn-sm gap-2" (click)="likePost(post)">
              <lucide-angular [img]="Heart"></lucide-angular>
              {{ post.likes }}
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
